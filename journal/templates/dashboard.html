{% extends 'base_content.html' %}
{% load static %}
{% block content %}
<!-- Static CSS Files -->
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">

<!-- ==================== Main Dashboard Section ==================== -->
<section class="container d-flex flex-column">

  <div class="first-row row py-4 px-4 gy-4">
    <div class="col-xl-8 d-flex flex-column justify-content-center">
      <div class="welcome-message p-2 border bg-light ">
        <h1>Welcome to your dashboard {{user.username}}</h1>
      </div>
    </div>
    <div class="col-xl-4">
      <div class="user-content p-2 border bg-light">
        <h1>User Content</h1>
      </div>
    </div>
  </div>

  <div class="second-row row px-4 gy-4 pb-4 flex-fill">
    <div class="col-xl-5 d-flex flex-column">
      <div class="todays-journal p-2 border bg-light flex-grow-1">
        <h1>Your Journals:</h1>
          <div class="content">
            {% if my_journals is None %}
              <p>You have no Journals! Press below to create your first journal</p>
                <div class="d-flex justify-content-center">
                  <a href="{% url 'create_journal' %}" class="btn"> Create Journal </a>
                </div>
            {% else %}
                {% for journal in my_journals%}
                        <hr>
                        <h2>{{ journal.title }}</h2>
                        <p>{{ journal.summary }}</p>
                        <a href="{% url 'edit_journal' journal_id=journal.id %}" class="btn btn-sm btn-secondary">
                        Edit Journal
                        </a>
                        <a href="{% url 'delete_journal' journal_id=journal.id%}" class="btn btn-sm btn-outline-danger">
                        Delete Journal Entry
                        </a>
                        <a href="{% url 'journal_dashboard' journal_id=journal.id%}" class="btn btn-sm btn-outline-danger">
                          view
                        </a>
                        <hr>
                {% endfor %}
            {% endif %}
        </div>
      </div>
    </div>


    <div class="col-xl-4 d-flex flex-column">
      <div class="your-groups p-2 border bg-light flex-grow-1">
        <h1>Your Groups:</h1>
        <div class="content">
          {% if not groups %}
            Get some friends
          {% endif %}
          {% if groups %}
            <div class="btn-group-vertical container-fluid" role="group">
              {% for group in groups %}
                <a role="button" href="{% url 'group_dashboard' group_id=group.group_id %}" class="btn justify-content-center">{{ group.name }}</a>
              {% endfor %}
          </div>
        {% endif %}
        </div>
      </div>
    </div>

    <div class="col-xl-3 d-flex flex-column">
      <div class="friends-list p-2 border bg-light flex-grow-1">
        <h1>Friends List:</h1>
        {% if user.friends.all %}
          {% for friend in user.friends.all %}
            <li>{{ friend.username }}</li>
          {% endfor %}
        {% else %}
          You currently have no Friends, <br>
          View requests to add some you lonely guy
          <br>
        {% endif %}
      </div>
    </div>
  </div>

</section>



{% endblock %}

