{% extends 'base_content.html' %}
{% block content %}


{% load static %}
<!DOCTYPE html> 
<html lang="en">
  <head>
    <title>Main Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <!--<link rel="stylesheet" href="{% static 'custom.css' %}">-->
    <style>
      body {
        margin: 0;
      }

      .container2 {
        width: 100%;
        height: 90vh;
  
        font-family: "Quicksand", sans-serif;
        font-weight: bold;
        font-size: 20px;

        display: grid;

        grid-template-columns: repeat(1, 1fr);
        
        gap: 10px;

        padding: 10px;
        box-sizing: border-box;
      }

      .container2 div {
        padding: 10px;
        border: 1px solid #000000;
      }

      .header {
        grid-column-start: 1;
        grid-column-end: 3;
      }
      
      
      
      @media only screen and (min-width: 100px) { 
        .container2 {
          grid-template-columns: repeat(2, 1fr);
          grid-template-rows: 6;          
        }
        .header {
          grid-column-start: 1;
          grid-column-end: 2;
        }
        .content-large {

          grid-row-start: 2;
          grid-row-end: 5;
        }
      }

      @media only screen and (min-width: 960px) {
        .container2 {
          grid-template-columns: repeat(3, 1fr);
          grid-template-rows: 0.3fr 1fr 1fr 0px;;
        }
        .header {
          grid-column-start: 1;
          grid-column-end: 3;
        }
        .content-large {
          grid-row-start: 2;
          grid-row-end: 5;
        }
      }
      
    </style>
  </head>

  <body>
    <div class="container">
      <div class="row">
        <div class="col-12">

        </div>
      </div>
    </div>
    <div class="container2">
      <div class="header">
        <h1>Welcome to your dashboard {{ user.username }}</h1>
      </div>
      <div class="content-small">Content #1</div>

      <div class="content-large">
        <h1>Today's Journal:</h1>
        {% if todays_journal is None %}
        <br/>
        You have not created a journal today!
        Press the button below to add your journal for the day
          <p>
            <a href="{% url 'select_template' %}" class="btn btn-lg btn-secondary">
              +
            </a>
        {% else %}
        <p>
          {% for journal in todays_journal%}
          <h2>{{ journal.journal_title }}</h2>
          <h3>Summary: {{ journal.journal_description }}</h3>
          <br/>
          {{ journal.journal_bio|safe }}
          <br/>
          Todays Mood: {{ journal.journal_mood }}
          <br/>
          Created on: {{ journal.entry_date }}
          <br/>
          <a href="{% url 'edit_journal' journalID=journal.id%}" class="btn btn-lg btn-secondary">
            Edit
          </a>
          Last edited at : {{ journal.last_edited}}
          <br/>
          {% endfor %}
        </p>
        {% endif %}
        
      </div>

      <div class="content-large">
        Your Groups
        <br>
        {% if not groups %}
          Get some friends
        {% endif %}
        {% if groups %}
          <div class="btn-group-vertical container-fluid" role="group">
            {% for group in groups %}
              <a role="button" href="{% url 'group_dashboard' group_id=group.group_id %}" class="btn btn-info content-large">{{ group.name }}</a>
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <div class="content-small">
        <h1><a href="{% url 'view_friends'%}">Your Friends:</a></h1>
          {% if user.friends.all %}
              {% for friend in user.friends.all %}
                  <li>{{ friend.username }}</li>
              {% endfor %}
          {% else %}
              You currently have no Friends, <br>
              View requests to add some you lonely guy
              <br>
          {% endif %}

        </style>
        <a class="bottom" href="{% url 'view_friend_requests' %}">View Requests</a></li>
      </div>


      <div class="content-small">
        <a href="{% url 'calendar' year=current_year month=current_month%}" class="btn btn-lg btn-secondary">
          Calendar
        </a>
        <br/>
        <br/>
        <a href="{% url 'my_journals' userID=user.id %}" class="btn btn-lg btn-secondary">
          See Your Journals (List View)
        </a>
      </div>

    </div>
  </body>
</html>  

{% endblock %}

