{% extends 'base_content.html' %}
{% load static %}
{% block content %}
<!-- Static CSS Files -->
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">

<!-- ==================== Main Dashboard Section ==================== -->
<section class="container d-flex flex-column">

  <div class="first-row row py-4 px-4 gy-4">
    <div class="col-xl-8 d-flex flex-column justify-content-center">
      <div class="welcome-message p-2 border bg-light ">
        <h1>Welcome to your dashboard {{user.username}}</h1>
      </div>
    </div>
    <div class="col-xl-4">
      <div class="user-content p-2 border bg-light">
        <h1>User Content</h1>
      </div>
    </div>
  </div>

  <div class="second-row row px-4 gy-4 pb-4 flex-fill">
    <div class="col-xl-5 d-flex flex-column">
      <div class="todays-journal p-2 border bg-light flex-grow-1">
        <h1>Today's Journal:</h1>
        <div class="content">
          {% if todays_journal is None %}
            <p>You have not created a journal today! Press the button below to add your journal for the day.</p>
            <div class="d-flex justify-content-center">
              <a href="{% url 'select_template' %}" class="btn"> Select Template </a>
            </div>
          {% else %}
            <p>
              {% for journal in todays_journal%}
                <h2>{{ journal.journal_title }}</h2>
                Summary: {{ journal.journal_description }}
                <br>
                Journal: {{ journal.journal_bio|safe }}
                <br>
                Todays Mood: {{ journal.journal_mood }}
                <br>
                Created on: {{ journal.entry_date }}
                <br>
                <a href="{% url 'edit_journal' journalID=journal.id%}" class="edit-button">Edit</a>
                <br>
                Last edited at : {{ journal.last_edited}}
                <br>
              {% endfor %}
            </p>
          {% endif %}
        </div>
        
      </div>
    </div>


    <div class="col-xl-4 d-flex flex-column">
      <div class="your-groups p-2 border bg-light flex-grow-1">
        <h1>Your Groups:</h1>
        <div class="content">
          {% if not groups %}
            Get some friends
          {% endif %}
          {% if groups %}
            <div class="btn-group-vertical container-fluid" role="group">
              {% for group in groups %}
                <a role="button" href="{% url 'groups' %}" class="btn justify-content-center">{{ group.name }}</a>
              {% endfor %}
          </div>
        {% endif %}
        </div>
      </div>
    </div>

    <div class="col-xl-3 d-flex flex-column">
      <div class="friends-list p-2 border bg-light flex-grow-1">
        <h1>Friends List:</h1>
      </div>
    </div>
  </div>

</section>

{% endblock %}

