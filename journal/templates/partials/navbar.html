{% load static %}
<link rel="stylesheet" href="{% static 'css/navbar.css' %}">

<header class="header fixed-top z-1" id="header">
  <div class="container-fluid container-xl d-flex align-items-center justify-content-between">
    <a class="logo-name d-flex align-items-center" href="{% if user.is_authenticated %}{% url 'dashboard' %}{% else %}{% url 'home' %}{% endif %}">Compact Journals</a>

    {% if user.is_authenticated %}
      <a class="nav-link dropdown-toggle no-caret" href="#" id="notificationDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        <i class="bi bi-bell-fill"></i>
        {% if notifications.count %}
          <span class="badge badge-warning" id="notificationBadge">{{ notifications.count }}</span>
        {% endif %}
      </a>
      
      <ul class="dropdown-menu" aria-labelledby="notificationDropdown">
        {% include 'partials/notification_panel.html' %}
      </ul>
    {% endif %}

    <nav class="navbar" id="navbar">
      {% if user.is_authenticated %}
        <ul>
          <li><a class="nav-link" href="{% url 'view_profile' %}">Profile</a></li>
          <li><a class="nav-link" href="{% url 'my_journals' userID=user.id %}">Journals</a></li>
          <li><a class="nav-link" href="{% url 'view_friends' %}">Friends</a></li>
          <li><a class="nav-link" href="{% url 'groups' %}">Groups</a></li>
          <li><a class="navbar-button" href="{% url 'log_out' %}">Log out</a></li>
        </ul>
      {% else %}
      {% if request.path != '/log_in/' and request.path != '/sign_up/' %}
        <ul>
          <li><a class="nav-link scrollable current" href="#top-section">Home</a></li>
          <li><a class="nav-link scrollable" href="#about-section">About</a></li>
          <li><a class="nav-link scrollable" href="#features-section">Features</a></li>
          <li><a class="navbar-button scrollable" href="{% url 'log_in' %}">Log in</a></li>
        </ul>
      {% endif %}
      {% endif %}

      <i class="small-navbar-toggle bi bi-list"></i>
    </nav>

  </div>
</header>


<script src="{% static 'js/navbar.js' %}"></script>

<!-- </li> -->
<style>
  .dropdown-toggle {
    display: inline;
    margin-left: 10px; /* Adjust margin as needed */
  }
  .dropdown-toggle::after {
    display: none;
  }
  .dropdown-toggle i {
    font-size: 25px;
  }

  #notificationBadge {
    position: absolute;
    
    padding: 5px 7px;
    border-radius: 60%;
    background-color: red;
    color: white;
    font-size: 10px;
  }
</style>